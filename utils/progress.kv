<MyProgressBar>:
    canvas:
        Color:
            rgb: 1, 1, 1
        BorderImage:
            border: (12, 12, 12, 12)
            pos: self.x, self.center_y - 12
            size: self.width, 24
            source: 'drawable/barra_gris.png'
        BorderImage:
            border: [int(min(self.width * (self.value / float(self.max)), 12))] * 4
            pos: self.x, self.center_y - 12
            size: self.width * (self.value / float(self.max)), 24
            source: 'drawable/barra_ambar.png'

<MultiProgressBar>:
    height:30
    canvas.before:
        Color:
            rgb: 1, 1, 1
        BorderImage:
            border: (12, 12, 12, 12)
            pos: self.x, self.center_y - 12
            size: self.width, 24
            source: 'drawable/barra_gris.png'
        BorderImage:
            border: [int(min(self.width * self.value1 , 12))] * 4
            pos: self.x, self.center_y - 12
            size: self.width * self.value1 , 24
            source: 'drawable/barra_' + root.barra1 +'.png'
        BorderImage:
            border: [int(min(self.width * self.value2 , 12))] * 4
            pos: self.x, self.center_y - 12
            size: self.width * self.value2, 24
            source: 'drawable/barra_' + root.barra2 +'.png'
        BorderImage:
            border: [int(min(self.width * self.value3, 12))] * 4
            pos: self.x, self.center_y - 12
            size: self.width * self.value3, 24
            source: 'drawable/barra_' + root.barra3 +'.png'
    canvas:
        Color:
            rgb: 1,0,0
        Rectangle:
            pos: self.x + self.width*self.roja,self.y
            size:2,self.height
        Rectangle:
            pos: self.x + self.width*self.roja_disc,self.y
            size:2,8
        Rectangle:
            pos: self.x + self.width*self.roja_disc,self.y+11
            size:2,8
        Rectangle:
            pos: self.x + self.width*self.roja_disc,self.y+22
            size:2,8

<TextProgressBar>:
    bar:bar
    lbl:lbl
    MyProgressBar:
        id:bar
        value:root.value
    Label:
        id:lbl
        text:str(root.bar.value)+'%'
        color:(0,0,0,1)
        #pos:(root.width/2.,root.height/2.)
